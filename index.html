<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orient'Maroc - Guide des M√©tiers et Orientation</title>
    <style>
        /* --- CSS MODERNE & RESPONSIVE --- */
        :root {
            --primary: #006064; /* Bleu Profond */
            --secondary: #009688; /* Vert √âmeraude */
            --accent: #FFC107;
            --bg: #F4F7F6;
            --text: #333;
            --white: #ffffff;
            --radius: 12px;
            --shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        body { background-color: var(--bg); color: var(--text); min-height: 100vh; display: flex; flex-direction: column; }

        .container { max-width: 1100px; margin: 0 auto; padding: 20px; width: 100%; }
        
        /* --- NAVBAR --- */
        header { background: var(--white); box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        nav { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; }
        .logo { font-size: 1.4rem; font-weight: bold; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .logo span { color: var(--secondary); }
        .nav-links button { background: none; border: none; font-size: 1rem; cursor: pointer; color: #555; margin-left: 15px; font-weight: 500; }
        .nav-links button:hover { color: var(--primary); }

        /* --- COMPONENTS --- */
        .card { background: var(--white); border-radius: var(--radius); padding: 24px; margin-bottom: 20px; box-shadow: var(--shadow); }
        
        .btn {
            padding: 12px 24px; border: none; border-radius: 30px; cursor: pointer; font-weight: 600; font-size: 1rem; transition: 0.2s;
            display: inline-flex; align-items: center; gap: 8px;
        }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: #004d40; transform: translateY(-2px); }
        .btn-outline { border: 2px solid var(--primary); background: transparent; color: var(--primary); }

        /* --- SECTIONS --- */
        section { display: none; animation: fadeIn 0.3s ease-in-out; }
        section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- FORM & INPUT --- */
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 0.9rem; color: #555; }
        input, select {
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; background: #fafafa;
        }
        input:focus, select:focus { outline: none; border-color: var(--secondary); background: #fff; }

        /* --- FILTERS --- */
        .filter-container { margin-bottom: 20px; display: flex; align-items: center; gap: 15px; background: white; padding: 15px; border-radius: var(--radius); box-shadow: var(--shadow); }
        #categoryFilter { flex: 1; }

        /* --- JOB GRID --- */
        .job-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .job-card {
            background: white; border-radius: var(--radius); overflow: hidden; border: 1px solid #eee; transition: 0.2s;
            display: flex; flex-direction: column; cursor: pointer; height: 100%;
        }
        .job-card:hover { transform: translateY(-5px); box-shadow: var(--shadow); border-color: var(--secondary); }
        .job-header { padding: 15px; background: linear-gradient(to right, #f0f7ff, #ffffff); border-bottom: 1px solid #eee; }
        .job-title { font-weight: bold; color: var(--primary); font-size: 1.1rem; }
        .job-category { font-size: 0.8rem; color: var(--secondary); text-transform: uppercase; font-weight: bold; letter-spacing: 0.5px; margin-top: 5px; display: inline-block; }
        .job-body { padding: 15px; font-size: 0.95rem; color: #555; flex-grow: 1; }
        .job-footer { padding: 10px 15px; background: #fafafa; border-top: 1px solid #eee; font-size: 0.85rem; color: #888; }

        /* --- QUIZ --- */
        .progress-bar { height: 6px; background: #e0e0e0; border-radius: 3px; margin-bottom: 20px; }
        .progress-fill { height: 100%; background: var(--secondary); border-radius: 3px; width: 0%; transition: width 0.3s; }
        .options-grid { display: grid; grid-template-columns: 1fr; gap: 10px; }
        @media(min-width: 600px) { .options-grid { grid-template-columns: 1fr 1fr; } }
        
        .option-btn {
            background: white; border: 2px solid #eee; padding: 15px; border-radius: 8px; text-align: left; transition: 0.2s; cursor: pointer; display: flex; align-items: center; gap: 10px;
        }
        .option-btn:hover { border-color: var(--secondary); background: #f0fdfa; }

        /* --- MODAL --- */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; justify-content: center; align-items: center; padding: 20px; }
        .modal-content { background: white; width: 100%; max-width: 600px; max-height: 85vh; overflow-y: auto; border-radius: var(--radius); padding: 30px; position: relative; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 28px; cursor: pointer; color: #999; }
        
        /* --- STATS --- */
        .stat-box { background: white; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #eee; }
        .stat-val { font-size: 1.5rem; font-weight: bold; color: var(--primary); }
        .stat-label { font-size: 0.8rem; color: #777; text-transform: uppercase; }

        /* --- RESPONSIVE --- */
        @media (max-width: 600px) {
            .filter-container { flex-direction: column; align-items: stretch; }
            .job-grid { grid-template-columns: 1fr; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <!-- MODAL DETAIL -->
    <div class="modal" id="jobModal">
        <div class="modal-content">
            <span class="close-modal" onclick="app.closeModal()">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <header>
        <div class="container">
            <nav>
                <div class="logo">üá≤üá¶ Orient<span>Maroc</span></div>
                <div class="nav-links" id="navLinks" style="display:none;">
                    <button onclick="app.navigate('dashboard')">Accueil</button>
                    <button onclick="app.navigate('jobs')">M√©tiers</button>
                    <button onclick="app.logout()">Quitter</button>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        
        <!-- 1. ONBOARDING -->
        <section id="onboarding" class="active">
            <div class="card" style="max-width: 500px; margin: 50px auto; text-align: center;">
                <h2 style="color: var(--primary); margin-bottom: 10px;">Bienvenue sur Orient'Maroc</h2>
                <p style="color: #666; margin-bottom: 30px;">La plateforme d'orientation scolaire et professionnelle.</p>
                
                <form onsubmit="app.saveProfile(event)">
                    <div class="form-group" style="text-align: left;">
                        <label>Ton Pr√©nom</label>
                        <input type="text" id="name" required placeholder="Ex: Sara">
                    </div>
                    
                    <div class="form-group" style="text-align: left;">
                        <label>Niveau Scolaire</label>
                        <select id="level" required onchange="app.toggleStream()">
                            <option value="">Choisir...</option>
                            <option value="3AC">3√®me Ann√©e Coll√®ge</option>
                            <option value="TC">Tronc Commun</option>
                            <option value="1BAC">1√®re Ann√©e Bac</option>
                            <option value="2BAC">2√®me Ann√©e Bac</option>
                        </select>
                    </div>

                    <div class="form-group" id="streamGroup" style="display:none; text-align: left;">
                        <label>Fili√®re (Bac)</label>
                        <select id="stream">
                            <option value="">Aucune</option>
                            <option value="SC_Maths">Sciences Maths</option>
                            <option value="SC_Exp">Sciences Exp√©rimentales</option>
                            <option value="STEG">Sciences Techniques</option>
                            <option value="EG">√âconomie & Gestion</option>
                            <option value="SH">Sciences Humaines</option>
                            <option value="LP">Lettres & Philo</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center;">Commencer</button>
                </form>
            </div>
        </section>

        <!-- 2. DASHBOARD -->
        <section id="dashboard">
            <div class="card" style="background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white;">
                <h1>Salut, <span id="uName">√âl√®ve</span> ! üëã</h1>
                <p style="opacity: 0.9; margin-top: 5px;">Pr√™t √† d√©couvrir ton avenir professionnel au Maroc ?</p>
                <div style="margin-top: 20px;">
                    <button class="btn" style="background: white; color: var(--primary);" onclick="app.startQuiz()">Passer le Test d'Orientation</button>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 30px;">
                <div class="stat-box">
                    <div class="stat-val" id="totalJobsCount">0</div>
                    <div class="stat-label">M√©tiers</div>
                </div>
                <div class="stat-box">
                    <div class="stat-val" id="totalCatsCount">0</div>
                    <div class="stat-label">Secteurs</div>
                </div>
            </div>

            <h3 style="margin-bottom: 15px;">Suggestion du jour</h3>
            <div class="job-grid" id="featuredJobs"></div>
        </section>

        <!-- 3. QUIZ -->
        <section id="quiz">
            <div class="card">
                <div class="progress-bar"><div class="progress-fill" id="quizProgress"></div></div>
                <h2 id="qText" style="margin-bottom: 20px;">Question...</h2>
                <div id="qOptions" class="options-grid"></div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-outline" onclick="app.navigate('dashboard')">Annuler</button>
            </div>
        </section>

        <!-- 4. RESULTS -->
        <section id="results">
            <div class="card" style="text-align: center;">
                <h2 style="color: var(--primary);">Analyse Termin√©e üéØ</h2>
                <p>Voici des pistes bas√©es sur ton profil : <strong id="resProfile"></strong></p>
            </div>

            <div class="card">
                <h3>üèÜ Profils d√©tect√©s</h3>
                <div id="resTags" style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px;"></div>
            </div>

            <div class="card">
                <h3>üíº M√©tiers recommand√©s pour toi</h3>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 15px;">Bas√©s sur tes scores et la banque de donn√©es.</p>
                <div class="job-grid" id="resJobs"></div>
            </div>

            <div style="text-align: center;">
                <button class="btn btn-primary" onclick="app.navigate('dashboard')">Retour Accueil</button>
            </div>
        </section>

        <!-- 5. JOBS DIRECTORY -->
        <section id="jobs">
            <div class="filter-container">
                <label>üîé Filtrer par secteur :</label>
                <select id="categoryFilter" onchange="app.filterJobs(this.value)">
                    <option value="all">Toutes les cat√©gories</option>
                    <!-- Options inject√©es par JS -->
                </select>
                <div style="color: #888; font-size: 0.9rem;"><span id="currentCount">0</span> m√©tiers affich√©s</div>
            </div>
            <div class="job-grid" id="jobsList"></div>
        </section>

    </main>

    <script>
        // --- DONN√âES BRUTES (Liste fournie par l'utilisateur) ---
        const RAW_DATA = {
            "Achat": ["Acheteur", "Acheteur industriel", "Acheteur informatique", "Agent de soin", "Assistant achat", "Assistant chef de produit tourisme", "Conducteur de travaux agencement", "Directeur achat", "Ing√©nieur achat", "Ing√©nieur d'√©tudes", "Peintre a√©ronautique", "Photographe assistant", "Professeur fitness", "Responsable achats", "Responsable approvisionnement", "Responsable cr√©dit", "Technicien d¬¥achats", "T√©l√©op√©rateur"],
            "Administratif": ["Adjoint des cadres hospitaliers", "Agent administratif", "Agent distribution courrier", "Agent services g√©n√©raux", "Assistant administratif", "Assistant de direction", "Assistant polyvalent", "Assistant technique", "Charg√© de mission handicap", "Collaborateur administrateur judiciaire", "Dactylo", "Directeur administratif financier", "Directeur associ√©", "Directeur des services techniques", "Directeur g√©n√©ral", "Employ√© administratif", "Gestionnaire administratif", "Greffier", "Responsable administratif", "Responsable des services g√©n√©raux", "R√©dacteur des d√©bats", "Secr√©taire g√©n√©ral", "Standardiste", "Traducteur"],
            "Agricole": ["Agent d'√©levage", "Agent viticole", "Agriculteur", "Apiculteur", "B√ªcheron", "Chauffeur agricole", "Conseiller foncier", "Cueilleur", "Eleveur", "Horticulteur", "Ing√©nieur agricole", "Ing√©nieur agronome", "Magasinier agricole", "Mara√Æcher", "M√©canicien agricole", "Ouvrier agricole", "Palefrenier", "P√©pini√©riste", "Vendangeur"],
            "Alimentation": ["Boucher", "Boulanger", "Caviste", "Charcutier", "Charcutier-traiteur", "Chef boucher", "Chocolatier", "Cuisinier traiteur", "D√©sosseur", "Fromager", "Glacier", "Pizzaiolo", "P√¢tissier chocolatier", "Responsable qualit√© agroalimentaire"],
            "Am√©nagement": ["G√©ographe", "Urbaniste"],
            "Architecture": ["Architecte", "Architecte d'int√©rieur", "Assistant architecte", "BIM Manager", "Cartographe", "Collaborateur d'architecte", "D√©corateur", "Paysagiste"],
            "Artisanat": ["Bijoutier", "Carreleur", "Charpentier", "Charpentier couvreur", "Chaudronnier", "Cordonnier", "Couturier", "Eb√©niste", "Ferronnier", "Fleuriste", "Forgeron", "Gemmologue", "Graveur", "Horloger", "Imprimeur", "Maroquinier", "Mar√©chal ferrant", "Menuisier", "Menuisier poseur aluminium", "Menuisier-agenceur", "M√©tallier serrurier", "Ouvrier boulanger", "Poseur cuisine", "Poseur menuiserie PVC", "P√¢tissier tourier", "P√™cheur", "Relieur", "Serrurier", "Styliste", "Tailleur", "Tailleur de pierre", "Tapissier", "Technicien chaudronnier"],
            "Assurance": ["Actuaire", "Collaborateur agence assurances", "Comptable assurance", "Conseiller commercial assurance", "Conseiller mutualiste", "Courtier", "Courtier en assurances", "Expert en assurances", "Expert en sinistres", "Gestionnaire contrats", "Gestionnaire d'assurances", "Gestionnaire frais de sant√©", "Gestionnaire middle office", "Souscripteur", "Tarificateur assurance"],
            "Banque": ["Analyste cr√©dit", "Charg√© de client√®le", "Charg√© de conformit√©", "Conseiller accueil banque", "Conseiller client√®le", "Dabiste", "Directeur d'agence", "Gestionnaire back office", "Guichetier", "Responsable recouvrement"],
            "Btp": ["Aide-ma√ßon", "Assistant travaux", "Bancheur", "Bardeur", "Calorifugeur", "Canalisateur", "Charg√© d'affaires btp", "Chauffagiste", "Chauffeur tp", "Chef d'√©quipe TP", "Chef d'√©quipe vrd", "Chef de chantier", "Coffreur", "Coffreur bancheur", "Coffreur boiseur", "Conducteur de grue mobile", "Conducteur de nacelle", "Conducteur de pelle", "Conducteur de travaux", "Conducteur engins", "Contremaitre", "Coordinateur technique", "Cordiste", "Courtier travaux", "Couvreur", "Couvreur zingueur", "Cuisiniste", "C√¢bleur", "Dessinateur projeteur √©lectricit√©", "Dessinateur-projeteur b√¢timent", "Deviseur", "Diagnostiqueur immobilier", "Directeur travaux", "D√©samianteur", "Echafaudeur", "Economiste de la construction", "Electricien", "Electricien du b√¢timent", "Etancheur", "Fa√ßadier", "Ferrailleur", "Finisseur", "Foreur", "Formateur CACES", "Frigoriste", "Grutier", "Grutier mobile", "G√©om√®tre topographe", "Ing√©nieur BTP", "Ing√©nieur construction", "Ing√©nieur efficacit√© √©nerg√©tique", "Ing√©nieur g√©otechnicien", "Ing√©nieur structures", "Ing√©nieur travaux", "Ing√©nieur √©tudes de prix", "Manoeuvre", "Ma√ßon", "Menuisier aluminium", "Menuisier poseur", "Miroitier", "M√©treur", "Ouvrier qualifi√©", "Ouvrier vrd", "Peintre en b√¢timent", "Pilote OPC", "Plaquiste", "Plaquiste enduiseur", "Plombier", "Pl√¢trier", "Polisseur", "Pontier", "Projeteur b√©ton arm√©", "Ramoneur", "Responsable maintenance travaux neufs", "Responsable travaux", "Sableur", "Solier moquettiste", "Technicien acoustique", "Technicien b√¢timent", "Technicien g√©nie civil", "Technicien g√©om√®tre"],
            "Chimie": ["Aromaticien", "Biochimiste", "Ing√©nieur chimiste", "Ing√©nieur formulation", "Ing√©nieur g√©nie chimique", "Laborantin", "Responsable de laboratoire", "Responsable laboratoire chimie", "Responsable scientifique", "Technicien biochimiste", "Technicien chimiste", "Technicien de laboratoire", "Technicien de laboratoire biologie", "Technicien g√©nie chimique"],
            "Commerce": ["Agent commercial", "Assistant administratif commercial", "Assistant commercial", "Assistant export", "Buraliste", "Business developer", "Charg√© d'affaires", "Charg√© de d√©veloppement commercial", "Chef de projet CRM", "Chef de projet e-commerce", "Chef de secteur commerce", "Chef de zone export", "Chef des ventes", "Client myst√®re", "Commercial", "Commercial B to C", "Commercial CHR", "Commercial GMS", "Commercial automobile", "Commercial b to b", "Commercial export", "Commercial s√©dentaire", "Commer√ßant", "Conseiller commercial", "Contract manager", "Directeur business unit", "Directeur commercial", "Directeur commercial export", "Directeur de comptes", "Directeur des op√©rations", "Directeur des ventes", "Directeur du d√©veloppement", "Directeur r√©gional", "D√©l√©gu√© commercial", "D√©l√©gu√© v√©t√©rinaire", "Employ√© de pharmacie", "Ing√©nieur avant-vente", "Ing√©nieur commercial", "Ing√©nieur d'affaires", "Ing√©nieur technico-commercial", "Opticien", "Poissonnier", "Promoteur des ventes", "Responsable commercial France", "Responsable commercial export", "Responsable commercial sport", "Responsable commercial s√©dentaire", "Responsable commercial transport", "Responsable d'affaires", "Responsable d√©veloppement commercial", "Responsable e-commerce", "Responsable grands comptes", "Skiman", "Technico-commercial", "T√©l√©conseiller", "VRP"],
            "Communication": ["Assistant chef de projet", "Assistant de communication", "Attach√© de presse", "Charg√© de communication", "Charg√© de communication √©v√©nementielle", "Charg√© de relations publiques", "Chef de projet communication", "Chef de publicit√©", "Conseiller en image", "Directeur de la communication", "Documentaliste ged", "Graphiste", "Infographiste", "Recruteur de donateurs", "Responsable communication", "Responsable partenariats", "Responsable √©ditorial"],
            "Comptabilit√©": ["Agent de facturation", "Agent de recouvrement", "Assistant administratif et comptable", "Assistant comptable", "Assistant facturation", "Auditeur", "Charg√© de recouvrement", "Chef de mission comptable", "Collaborateur comptable", "Commissaire aux comptes", "Comptable", "Comptable Fournisseur", "Comptable auxiliaire", "Comptable client", "Comptable clients recouvrement", "Comptable copropri√©t√©", "Comptable gestion locative", "Comptable g√©n√©ral", "Comptable paie", "Comptable tr√©sorerie", "Directeur comptable", "Expert-comptable", "Responsable administratif comptable", "Responsable audit", "Responsable comptabilit√© analytique", "Responsable comptabilit√© clients", "Responsable comptabilit√© fournisseurs", "Responsable comptable", "Responsable facturation", "Responsable tr√©sorerie", "Secr√©taire comptable", "Technicien comptable", "Tr√©sorier"],
            "Culture": ["Accessoiriste", "Animateur cirque", "Animateur sportif", "Archiviste", "Archiviste documentaliste", "Auteur", "Biblioth√©caire", "Cam√©raman", "Chanteur", "Chef de projet √©v√®nementiel", "Chor√©graphe", "Compositeur", "Com√©dien", "DJ", "Danseur", "Dessinateur", "Documentaliste", "Figurant", "Game designer", "Illustrateur", "Ing√©nieur du son", "Interpr√®te", "Libraire", "Linguiste", "Machiniste", "Mannequin", "Metteur en sc√®ne", "Mod√©liste", "Monteur de stands", "Musicien", "M√©diateur culturel", "Photographe", "Professeur de danse", "Professeur de zumba", "Professeur guitare", "Responsable √©v√©nementiel", "R√©alisateur", "R√©gisseur", "R√©gisseur lumi√®re", "Sculpteur", "Tatoueur", "Technicien audiovisuel", "Technicien du spectacle", "Technicien son"],
            "Digital": ["Charg√© de communication digitale", "Chef de projet digital", "Chef de projet internet", "Community manager", "Designer 3d", "D√©veloppeur iPhone", "D√©veloppeur mobile", "D√©veloppeur web", "Graphiste 2d", "Graphiste 3d", "Graphiste web", "Responsable digital", "R√©dacteur web", "R√©f√©renceur web", "Webmaster"],
            "Droit": ["Assistant juridique", "Avocat", "Clerc de notaire", "Directeur juridique", "Huissier", "Juriste", "Juriste assurance", "Juriste construction", "Juriste contentieux", "Juriste d'entreprise", "Juriste droit de la concurrence", "Juriste droit des affaires", "Juriste en droit public", "Juriste en droit social", "Juriste immobilier", "Juriste international", "Juriste propri√©t√© intellectuelle", "Notaire", "R√©dacteur juridique"],
            "Economie": ["Statisticien", "√âconomiste"],
            "Edition": ["Conducteur offset", "Iconographe"],
            "Emploi public": ["ASVP", "Administratif de la fonction publique", "Agent d'entretien en collectivit√©", "Agent de service", "Agent de tri courrier", "Agent de voirie", "Animateur du patrimoine", "Charg√© de recherche", "Facteur", "Ing√©nieur VRD", "Militaire", "Policier", "Postier", "R√©dacteur territorial", "Surveillant de baignade", "Technicien de recherche", "Technicien environnement"],
            "Enseignement": ["Animateur BAFA", "Assistant p√©dagogique", "Auxiliaire de vie scolaire", "Chef de projet formation", "Chef de service √©ducatif", "Coach sportif", "Conseiller d'orientation", "Conseiller p√©dagogique", "Directeur de centre de formation", "Educateur technique", "Enseignant", "Enseignant chercheur", "Formateur", "Formateur FLE", "Formateur b√¢timent", "Formateur en bureautique", "Formateur gestion du stress", "Formateur insertion", "Formateur vacataire", "Ing√©nieur p√©dagogique", "Ma√Ætre-nageur sauveteur", "Moniteur", "Moniteur auto-√©cole", "Professeur allemand", "Professeur d'anglais", "Professeur de SVT", "Professeur de fran√ßais", "Professeur des √©coles", "Professeur histoire g√©ographie", "Professeur math√©matiques", "Professeur musique", "Professeur philosophie", "Professeur physique", "Professeur √©conomie", "Responsable p√©dagogique", "Surveillant examens", "√âducateur sportif"],
            "Environnement": ["Agent d'entretien des espaces verts", "Agent de tri", "Animateur s√©curit√© environnement", "Assistant d√©veloppement durable", "Biologiste", "Botaniste", "Charg√© de mission RSE", "Coordinateur qhse", "Ecologue", "Elagueur", "Garde forestier", "G√©ologue", "Hydrog√©ologue", "Ing√©nieur environnement", "Ing√©nieur photovoltaique", "Ing√©nieur thermicien", "Installateur thermique", "Jardinier", "Jardinier paysagiste", "Monteur en climatisation", "M√©t√©orologue", "Naturaliste", "Oc√©anographe", "Ouvrier paysagiste", "Releveur de compteur", "Responsable HSE", "Responsable QSE", "Responsable d√©veloppement durable", "Ripeur", "Technicien HVAC", "Technicien de maintenance g√©nie climatique", "Technicien en froid et climatisation", "Technicien en √©lectricit√©", "Technicien forestier", "Technicien gaz", "Technicien g√©nie climatique"],
            "Finance": ["Analyste financier", "Asset manager", "Auditeur financier", "Charg√© de reporting", "Chef de mission audit", "Conseiller Fiscal", "Conseiller financier", "Consolideur", "Contr√¥leur financier", "Credit manager", "Directeur financier", "Fiscaliste", "Gestionnaire financier", "Ing√©nieur financier", "Op√©rateur de march√©", "Responsable administratif financier", "Responsable financier", "Trader"],
            "Gestion": ["Assistant de gestion", "Assistant de gestion PME/PMI", "Business analyst", "Charg√© de contentieux", "Consultant gestion", "Contr√¥leur de gestion", "Delivery manager", "Directeur technique", "Gestionnaire de patrimoine", "Risk manager"],
            "Grande distribution": ["Animateur commercial", "Animateur r√©seau", "Attach√© commercial GMS", "Chef de caisse", "Chef de rayon", "Chef de secteur", "Chef de secteur GMS", "Chef rayon bazar", "Chef rayon boucherie", "Chef rayon boulangerie p√¢tisserie", "Chef rayon charcuterie traiteur", "Chef rayon poissonnerie", "Conseiller de vente", "Directeur de magasin", "Employ√© libre-service", "Employ√© point chaud", "Merchandiseur", "Responsable adjoint magasin", "Responsable commercial GMS", "Responsable drive", "Responsable produits frais", "Responsable rayon", "Responsable rayon poissonnerie"],
            "H√¥tellerie": ["Chef de r√©ception", "Directeur h√¥tel", "Femme de chambre", "Gouvernant", "Majordome", "R√©ceptionniste", "Valet de chambre", "Veilleur de nuit"],
            "Immobilier": ["Administrateur de biens", "Agent commercial immobilier", "Agent immobilier", "Assistant gestion locative", "Chasseur immobilier", "Commercial immobilier", "Conseiller commercial immobilier", "Directeur de copropri√©t√©", "D√©veloppeur foncier", "Gestionnaire de copropri√©t√©", "Gestionnaire immobilier", "Gestionnaire locatif", "Home stager", "Mandataire immobilier", "N√©gociateur immobilier", "N√©gociateur location", "Promoteur", "Prospecteur foncier", "Responsable commercial immobilier", "Responsable contentieux locatif", "Responsable d√©veloppement foncier", "Responsable immobilier", "Technicien diagnostic immobilier"],
            "Industrie": ["Aff√ªteur", "Agent de conditionnement", "Agent de fabrication", "Agent de finition", "Agent de production", "Agent technique", "Agent technique polyvalent", "Ajusteur", "Ajusteur a√©ronautique", "Ajusteur mouliste", "Assembleur monteur", "Assistant qualit√©", "Auditeur qualit√©", "Bobinier", "Calculateur", "Cariste", "Carrossier", "Charg√© de mission qualit√©", "Chef d'atelier", "Chef d'√©quipe maintenance", "Chef de projet industriel", "Chef de projet production", "Conditionneur", "Conducteur de four", "Conducteur de ligne", "Conducteur de ligne industrie pharmaceutique", "Conducteur de machine", "Dessinateur industriel", "Dessinateur projeteur cao", "Dessinateur-projeteur", "Directeur R&D", "Directeur de production", "Directeur de site", "Directeur industriel", "Directeur qualit√©", "Directeur usine", "Drapeur", "D√©colleteur", "Ebarbeur", "Electricien industriel", "Electrotechnicien", "Erodeur", "Fraiseur", "Ing√©nieur calcul de structures", "Ing√©nieur de production", "Ing√©nieur de projet", "Ing√©nieur industrialisation", "Ing√©nieur maintenance", "Ing√©nieur m√©tallurgiste", "Ing√©nieur m√©trologue", "Ing√©nieur planning", "Ing√©nieur p√©trolier", "Ing√©nieur qse", "Ing√©nieur qualit√©", "Ing√©nieur soudage", "Inspecteur qualit√©", "Metteur au point", "Monteur de meubles", "Monteur-c√¢bleur", "Mouleur", "M√©canicien de maintenance", "M√©tallier", "M√©trologue", "Op√©rateur de production", "Op√©rateur salle blanche", "Ordonnanceur", "Outilleur", "Outilleur mouliste", "Ouvrier abattoir", "Ouvrier de production", "Oxycoupeur", "Peintre automobile", "Peintre industriel", "Planificateur", "Plasturgiste", "Plieur cn", "Programmeur CFAO", "Qualiticien", "Rectifieur", "Responsable atelier", "Responsable bureau d'√©tudes", "Responsable contr√¥le qualit√©", "Responsable de maintenance", "Responsable de production", "Responsable de site", "Responsable fonderie", "Responsable m√©thodes", "Responsable planification", "Responsable qualit√©", "Responsable uap", "R√©gleur", "Soudeur", "Soudeur aluminium", "Stratifieur", "Superviseur de maintenance", "Technicien assurance qualit√©", "Technicien automaticien", "Technicien bureau d'√©tudes", "Technicien controle qualit√©", "Technicien d'√©tudes", "Technicien de fabrication", "Technicien de maintenance", "Technicien de maintenance industrielle", "Technicien de maintenance itin√©rant", "Technicien essai", "Technicien fonderie", "Technicien industrialisation", "Technicien instrumentation", "Technicien qualit√©", "Technicien √©lectronicien", "Technicien √©lectrotechnique", "Tourneur", "Usineur"],
            "Informatique": ["Administrateur Linux", "Administrateur SAP", "Administrateur Sharepoint", "Administrateur Windows", "Administrateur base de donn√©es", "Administrateur syst√®mes", "Administrateur unix", "Analyste d'exploitation", "Analyste developpeur", "Analyste-programmeur", "Architecte Java", "Architecte SI", "Architecte informatique", "Architecte logiciel", "Architecte r√©seau", "Architecte technique", "Chef de projet .NET", "Chef de projet AMOA", "Chef de projet Java", "Chef de projet MOA", "Chef de projet MOE", "Chef de projet d√©cisionnel", "Chef de projet erp", "Chef de projet fonctionnel", "Chef de projet informatique", "Chef de projet infrastructure", "Chef de projet mobile", "Chef de projet technique", "Chef de projet web", "Concepteur designer", "Consultant AMOA", "Consultant SAP", "Consultant SEO", "Consultant SIRH", "Consultant S√©curit√©", "Consultant fonctionnel", "Consultant informatique", "Coordinateur informatique", "Data Scientist", "Developpeur full stack", "Directeur informatique", "D√©veloppeur .NET", "D√©veloppeur Android", "D√©veloppeur C", "D√©veloppeur C++", "D√©veloppeur Flash", "D√©veloppeur Java", "D√©veloppeur PHP", "D√©veloppeur Python", "D√©veloppeur SQL", "D√©veloppeur VBA", "D√©veloppeur back end", "D√©veloppeur front end", "D√©veloppeur informatique", "D√©veloppeur logiciel", "Electronicien", "Expert s√©curit√©", "Formateur informatique", "G√©omaticien", "IT manager", "Informaticien", "Ingenieur devops", "Ing√©nieur Unix", "Ing√©nieur commercial informatique", "Ing√©nieur d√©cisionnel", "Ing√©nieur d√©veloppeur", "Ing√©nieur informatique", "Ing√©nieur logiciel", "Ing√©nieur poste de travail", "Ing√©nieur support", "Ing√©nieur syst√®me", "Ing√©nieur s√©curit√©", "Ing√©nieur traitement du signal", "Int√©grateur web", "Motion designer", "Programmeur informatique", "Pupitreur", "Scrum master", "Technicien de maintenance informatique", "Technicien de support", "Technicien exploitation informatique", "Technicien helpdesk", "Technicien support informatique", "Webdesigner"],
            "Ing√©nierie": ["Acousticien", "Automaticien", "Charg√© d'affaires cvc", "Chaudronnier naval", "Dessinateur cvc", "Hydraulicien", "Ing√©nieur G√©nie des proc√©d√©s", "Ing√©nieur R&D", "Ing√©nieur acoustique", "Ing√©nieur automaticien", "Ing√©nieur automobile", "Ing√©nieur a√©ronautique", "Ing√©nieur calcul", "Ing√©nieur contr√¥le commande", "Ing√©nieur de recherche", "Ing√©nieur eau", "Ing√©nieur en optique", "Ing√©nieur g√©nie civil", "Ing√©nieur laser", "Ing√©nieur math√©matiques appliqu√©es", "Ing√©nieur mat√©riaux", "Ing√©nieur micro √©lectronique", "Ing√©nieur mod√©lisation", "Ing√©nieur m√©canique des fluides", "Ing√©nieur m√©catronique", "Ing√©nieur m√©thodes", "Ing√©nieur nucl√©aire", "Ing√©nieur proc√©d√©s", "Ing√©nieur robotique", "Ing√©nieur simulation num√©rique", "Ing√©nieur s√ªret√©", "Ing√©nieur √©lectricit√©", "Ing√©nieur √©lectronique", "Metteur au point climatisation", "Projeteur vrd", "Roboticien", "Technicien a√©ronautique", "Technicien courant faible", "Technicien cvc", "Technicien domotique"],
            "Logistique": ["Affr√©teur", "Agent de logistique", "Agent de quai", "Agent de transit", "Analyste logistique", "Approvisionneur", "Assistant approvisionnement", "Assistant d'exploitation", "Assistant import export", "Assistant logistique", "Chef de d√©p√¥t", "Chef de projet logistique", "Conducteur routier", "Conducteur routier pl", "Conducteur routier spl", "Consultant supply chain", "Coordinateur logistique", "Coursier", "Directeur logistique", "Directeur supply chain", "Dispatcheur", "Gestionnaire de parc automobile", "Gestionnaire de stocks", "Ing√©nieur logistique", "Inventoriste", "Logisticien", "Magasinier", "Manutentionnaire", "Op√©rateur logistique", "Pilote de flux", "Pr√©parateur de commande", "Responsable de quai", "Responsable exploitation", "Responsable export", "Responsable exp√©ditions", "Responsable logistique", "Responsable magasinier", "Responsable transit", "R√©ceptionnaire", "Technicien logistique", "gestionnaire de flux"],
            "Marketing": ["Analyste de donn√©es", "Assistant chef de produit marketing", "Assistant chef de projet marketing", "Assistant marketing", "Bid manager", "Brand manager", "Category manager", "Charg√© d'√©tudes marketing", "Charg√© d'√©tudes statistiques", "Charg√© de marketing", "Chef de produit", "Chef de projet marketing", "Chef de projet web marketing", "Concepteur r√©dacteur", "Coordinateur Marketing", "Designer", "Directeur artistique", "Directeur de client√®le", "Directeur marketing", "Distributeur", "Enqu√™teur sondage", "Enqu√™teur terrain", "Pan√©liste", "Responsable marketing", "Responsable marketing op√©rationnel", "Responsable trade marketing", "Responsable web marketing", "Traffic manager"],
            "M√©canique": ["Aide m√©canicien", "Ascensoriste", "Chef atelier automobile", "Chef m√©canicien", "Contr√¥leur technique automobile", "Dessinateur m√©canique", "D√©panneur remorqueur", "Electricien automobile", "Electrom√©canicien", "Ingenieur conception mecanique", "Ing√©nieur en g√©nie m√©canique", "Ing√©nieur m√©canique", "Monteur m√©canique", "M√©canicien automobile", "M√©canicien monteur", "M√©canicien moto", "M√©canicien motoculture", "M√©canicien outilleur", "M√©canicien poids lourds", "Projeteur m√©canique", "Pr√©parateur automobile", "Responsable carrosserie", "Technicien automobile", "Technicien d'atelier"],
            "M√©dias": ["Cadreur monteur", "Chef de rubrique", "Graphiste PAO", "Graphiste designer", "Graphiste multim√©dias", "Infographiste multim√©dias", "Journaliste", "Maquettiste", "Massicotier", "Monteur vid√©o", "Relecteur-correcteur", "Reporter", "R√©dacteur en chef", "R√©dacteur pigiste", "R√©dacteur scientifique", "Secr√©taire de r√©daction", "S√©rigraphe"],
            "Petite enfance": ["ATSEM", "Agent service cr√®che", "Aide-√©ducateur", "Animateur centre loisirs", "Animateur enfants", "Animateur p√©riscolaire", "Assistante maternelle", "Auxiliaire cr√®che", "Auxiliaire petite enfance", "Directeur de centre de loisirs", "Directeur de cr√®che", "Infirmier cr√®che", "Pu√©riculteur"],
            "Physique": ["Animateur tennis", "Physicien"],
            "Propret√©": ["Agent de nettoyage", "Agent de propret√©", "Agent maintenance b√¢timent", "Employ√© de nettoyage", "Laveur de vitres", "Ouvrier d'entretien"],
            "Ressources humaines": ["Assistant recrutement", "Assistant ressources humaines", "Charg√© de mission RH", "Charg√© de recrutement", "Charg√© de ressources humaines", "Chef de projet Ressources Humaines", "Chef de projet SIRH", "Chef du personnel", "Chief happiness officer", "Collaborateur social", "Conseiller formation", "Consultant en recrutement", "Consultant en ressources humaines", "Consultant management", "Contr√¥leur de gestion sociale", "Directeur des ressources humaines", "Ergonome", "Gestionnaire RH", "Gestionnaire de paie", "Gestionnaire du personnel", "Knowledge manager", "Lean manager", "Project management officer", "Responsable Administration Du Personnel", "Responsable des ressources humaines", "Responsable formation", "Responsable paie", "Responsable relations sociales", "Team leader"],
            "Restauration": ["Agent de restauration", "Aide-cuisinier", "Barman", "Chef cuisinier", "Chef de partie", "Chef de rang", "Chef de secteur CHR", "Chef g√©rant", "Chef p√¢tissier", "Commis de cuisine", "Commis de salle", "Cr√™pier", "Cuisinier", "Cuisinier de collectivit√©", "Directeur de restaurant", "Employ√© polyvalent de restauration", "Grillardin", "Livreur de pizzas", "Manager en restauration", "Ma√Ætre d'h√¥tel", "Oenologue", "Plongeur", "P√¢tissier", "Responsable de cuisine", "Responsable de salle", "Responsable en restauration", "Second de cuisine", "Serveur", "Serveur barman", "Serveur extra", "Sommelier"],
            "Sant√©": ["ASH - Agent de services hospitaliers", "Agent de service maison de retraite", "Agent de st√©rilisation", "Aide-soignant", "Ambulancier", "Anesth√©siste", "Assistant dentaire", "Assistant m√©dical", "Assistant v√©t√©rinaire", "Attach√© de recherche clinique", "Audioproth√©siste", "Auxiliaire ambulancier", "Auxiliaire de pu√©riculture", "Biostatisticien", "Brancardier", "Cadre de sant√©", "Cadre infirmier", "Cadre sup√©rieur de sant√©", "Cardiologue", "Chef de bloc", "Chef de service", "Chirurgien", "Chirurgien orthop√©diste", "Dentiste", "Dermatologue", "Directeur d'EHPAD", "Directeur d'√©tablissement de sant√©", "Directeur des soins", "Directeur m√©dico-social", "Di√©t√©ticien", "Endocrinologue", "Ergoth√©rapeute", "Gastro-ent√©rologue", "Gyn√©cologue", "Infirmier", "Infirmier anesth√©siste", "Infirmier auxiliaire", "Infirmier bloc op√©ratoire", "Infirmier coordinateur", "Infirmier dialyse", "Infirmier du secteur psychiatrique", "Infirmier ehpad", "Infirmier m√©decine du travail", "Infirmier urgences", "Infirmi√®re en entreprise", "Infirmi√®re lib√©rale", "Kin√©sith√©rapeute", "Manipulateur en radiologie", "Masseur kin√©sith√©rapeute", "M√©decin coordinateur", "M√©decin du travail", "M√©decin g√©n√©raliste", "M√©decin g√©riatre", "M√©decin urgentiste", "Neurochirurgien", "Neurologue", "Neuropsychologue", "Nutritionniste", "N√©phrologue", "Oncologue", "Ophtalmologue", "Optom√©triste", "Orthophoniste", "Ost√©opathe", "Pharmacien", "Pharmacien affaires r√©glementaires", "Pharmacien biologiste", "Pharmacien hospitalier", "Pharmacien qualit√©", "Pneumologue", "Podologue", "Professeur de yoga", "Pr√©parateur en pharmacie", "Psychiatre", "Psychologue", "Psychologue clinicien", "Psychologue du travail", "Psychomotricien", "P√©diatre", "Radiologue", "Sage-femme", "Secr√©taire dentaire", "Sophrologue", "Technicien biom√©dical", "Urologue", "Visiteur m√©dical", "V√©t√©rinaire"],
            "Secr√©tariat": ["Assistant secr√©taire", "Secr√©taire", "Secr√©taire administratif", "Secr√©taire bilingue", "Secr√©taire commercial", "Secr√©taire de direction", "Secr√©taire m√©dicale", "T√©l√©secr√©taire"],
            "S√©curit√©": ["Agent cynophile s√©curit√©", "Agent de surveillance", "Agent de s√©curit√©", "Agent de s√©curit√© incendie", "Animateur s√©curit√©", "Convoyeur de fonds", "D√©tective", "Garde du corps", "Gardien", "Gardien de la paix", "Gendarme", "Op√©rateur t√©l√©surveillance", "Pilote de drones", "Responsable s√©curit√©", "Sapeur-Pompier", "Secouriste"],
            "Service client√®le": ["Agent d'accueil", "Assistant personnel", "Etalagiste", "Hotliner", "P√®re No√´l", "R√©dacteur technique", "Technicien SAV", "Technicien √©lectrom√©nager", "Toiletteur"],
            "Services √† la personne": ["Aide m√©nag√®re √† domicile", "Aide √† domicile", "Baby sitter", "Chef d'√©quipe propret√©", "Coach professionnel", "Coiffeur", "Concierge", "D√©m√©nageur", "Employ√© familial", "Employ√© pressing", "Esth√©ticien", "Femme de m√©nage", "Garde d'animaux", "Gardien d'immeuble", "Maquilleur", "Repasseur", "Thanatopracteur"],
            "Social": ["Aide m√©dico-psychologique", "Animateur maison retraite", "Assistant de service social", "Auxiliaire de vie sociale - AVS", "Conseiller en insertion professionnelle", "Conseiller en √©conomie sociale et familiale", "Conseiller social", "Coordinateur social", "Directeur ESAT", "Directeur adjoint ESAT", "Educateur", "Intervenant action sociale", "Moniteur d'atelier", "Moniteur √©ducateur", "√âducateur sp√©cialis√©"],
            "T√©l√©communications": ["Administrateur r√©seau", "Ing√©nieur radio", "Ing√©nieur r√©seau", "Ing√©nieur t√©l√©com", "Piqueteur", "Technicien fibre optique", "Technicien r√©seau", "ing√©nieur hyperfr√©quences"],
            "Tourisme": ["Accompagnateur montagne", "Accompagnateur tourisme √©questre", "Agent de comptoir", "Agent de d√©veloppement touristique", "Agent de r√©servation", "Agent de voyage", "Animateur tourisme", "Animateur village vacances", "Billettiste", "Conseiller voyages", "Directeur centre de vacances", "Forfaitiste", "Guide touristique", "Moniteur de ski", "Responsable animation", "Spa manager"],
            "Transport": ["Agent a√©roportuaire", "Agent d'escale", "Agent d'exploitation transport et logistique", "Agent de piste", "Agent de trafic a√©rien", "Agent s√ªret√© a√©roportuaire", "Architecte naval", "Bagagiste", "Chauffeur VTC", "Chauffeur d'autocar", "Chauffeur de bus", "Chauffeur de direction", "Chauffeur de taxi", "Chauffeur livreur", "Chauffeur priv√©", "Chauffeur routier", "Chef de quart", "Contr√¥leur a√©rien", "Convoyeur de v√©hicules", "Directeur transport", "Docker", "D√©clarant en douane", "Formateur conduite", "H√¥tesse de l'air", "Ing√©nieur a√©rodynamique", "Ing√©nieur signalisation ferroviaire", "Magasinier a√©ronautique", "Monteur de pneus", "M√©canicien a√©ronautique", "Pilote d'avion", "Pilote d'h√©licopt√®re", "Responsable transport"],
            "Vente": ["Assistant administration des ventes", "Caissier", "Chef des ventes r√©gional", "Concepteur vendeur", "Conseiller beaut√©", "Coordinateur des ventes", "Directeur de filiale", "D√©l√©gu√© pharmaceutique", "Formateur vente", "Gestionnaire administration des ventes", "Manager des ventes", "Product owner", "Pr√©visionniste des ventes", "Responsable administration des ventes", "Responsable boutique", "Responsable commercial automobile", "Responsable de caisse", "Responsable de magasin", "Responsable de secteur", "Responsable parapharmacie", "Responsable t√©l√©vente", "T√©l√© prospecteur", "T√©l√©vendeur", "Vendeur", "Vendeur animalerie", "Vendeur automobile", "Vendeur jeux video", "Vendeur moto", "Vendeur multim√©dia"]
        };

        // --- MAP DES TAGS (Pour le Quiz) ---
        const TAG_MAP = {
            "Sant√©": ["bio", "social", "soin"],
            "Btp": ["manuel", "technique", "logique"],
            "Informatique": ["tech", "logique", "code"],
            "Industrie": ["technique", "manuel", "usine"],
            "M√©canique": ["technique", "manuel", "logique"],
            "Ing√©nierie": ["science", "logique", "maths"],
            "Commerce": ["vente", "contact", "eco"],
            "Vente": ["vente", "contact", "commerce"],
            "Banque": ["finance", "eco", "maths"],
            "Finance": ["finance", "eco", "maths"],
            "Comptabilit√©": ["admin", "maths", "eco"],
            "Gestion": ["admin", "eco", "management"],
            "Assurance": ["finance", "commerce", "droit"],
            "Droit": ["lettre", "droit", "justice"],
            "Architecture": ["arts", "logique", "design"],
            "Artisanat": ["manuel", "arts", "creation"],
            "Culture": ["arts", "creation", "lettre"],
            "Enseignement": ["social", "lettre", "science"],
            "Social": ["social", "soin", "humain"],
            "Ressources humaines": ["social", "admin", "droit"],
            "Transport": ["manuel", "logistique", "conducteur"],
            "Logistique": ["manuel", "organisation", "logistique"],
            "H√¥tellerie": ["contact", "service", "social"],
            "Restauration": ["manuel", "service", "creation"],
            "Environnement": ["bio", "nature", "science"],
            "Agricole": ["bio", "nature", "manuel"],
            "S√©curit√©": ["manuel", "social", "ordre"],
            "Marketing": ["creation", "commerce", "eco"],
            "Communication": ["creation", "media", "lettre"],
            "M√©dias": ["creation", "media", "lettre"],
            "Digital": ["tech", "creation", "code"],
            "Immobilier": ["commerce", "logique", "patrimoine"],
            "Administration": ["admin", "secretariat", "org"],
            "Secr√©tariat": ["admin", "secretariat", "org"],
            "Services √† la personne": ["social", "manuel", "service"],
            "Propret√©": ["manuel", "service", "hygiene"],
            "Achat": ["commerce", "organisation", "n√©gociation"],
            "Grande distribution": ["commerce", "service", "stock"],
            "Tourisme": ["contact", "service", "culture"],
            "Alimentation": ["manuel", "creation", "hygiene"],
            "Chimie": ["science", "labo", "bio"],
            "Physique": ["science", "maths", "recherche"],
            "Economie": ["eco", "maths", "analyse"],
            "Am√©nagement": ["urbanisme", "nature", "design"],
            "Emploi public": ["admin", "social", "service"],
            "Petite enfance": ["social", "soin", "education"]
        };

        // --- DESCRIPTIONS SP√âCIFIQUES (Pr√©cises) ---
        const CUSTOM_DESC = {
            "M√©decin": "M√©decin g√©n√©raliste ou sp√©cialiste qui diagnostique et traite les maladies, prescrit des m√©dicaments et assure le suivi de la sant√© des patients.",
            "Infirmier": "Personnel soignant qui r√©alise les soins m√©dicaux (pansements, injections) et assure le confort et l'hygi√®ne des patients sous supervision m√©dicale.",
            "Avocat": "Juriste qui conseille ses clients sur leurs droits et obligations et les repr√©sente ou les d√©fend devant les tribunaux.",
            "Architecte": "Professionnel qui con√ßoit la structure et l'esth√©tique des b√¢timents, en veillant √† la faisabilit√© technique, la s√©curit√© et le respect des normes.",
            "D√©veloppeur web": "Ing√©nieur logiciel qui cr√©e des sites internet et des applications web en utilisant des langages de programmation (HTML, CSS, JS, PHP...).",
            "Ing√©nieur": "Professionnel hautement qualifi√© qui con√ßoit, d√©veloppe et optimise des solutions techniques dans des domaines vari√©s (BTP, Informatique, Industrie...).",
            "Comptable": "Sp√©cialiste de la gestion financi√®re qui enregistre les flux financiers, √©tablit les bilans et d√©clarations fiscales d'une entreprise.",
            "Ma√ßon": "Ouvrier du BTP sp√©cialis√© dans la construction de murs, de fondations et de structures en briques ou en parpaings.",
            "Plombier": "Technicien qui installe, r√©pare et entretient les r√©seaux de distribution d'eau et d'√©vacuation des eaux us√©es.",
            "√âlectricien": "Technicien qui r√©alise l'installation, la maintenance et le d√©pannage des circuits √©lectriques r√©sidentiels ou industriels.",
            "Professeur": "Enseignant qui transmet des connaissances th√©oriques ou pratiques √† des √©l√®ves ou des √©tudiants dans un √©tablissement scolaire ou universitaire.",
            "Policier": "Agent de l'√âtat charg√© de maintenir l'ordre public, de s√©curiser les biens et les personnes et de faire respecter la loi.",
            "Pilote d'avion": "Professionnel charg√© de piloter un a√©ronef pour transporter des passagers ou du fret, en assurant la s√©curit√© du vol.",
            "Chef de projet": "Responsable qui coordonne les diff√©rentes ressources (humaines, financi√®res, techniques) d'un projet pour atteindre les objectifs dans les d√©lais et le budget.",
            "Journaliste": "Professionnel de l'information qui enqu√™te, r√©dige et diffuse des articles ou reportages sur des √©v√©nements d'actualit√©."
        };

        // --- APPLICATION CORE ---
        const app = {
            jobs: [],
            user: null,
            quizScores: {},

            init: function() {
                this.generateJobs();
                this.loadUser();
                this.renderFilters();
                
                if(this.user) {
                    document.getElementById('navLinks').style.display = 'block';
                    this.navigate('dashboard');
                } else {
                    this.navigate('onboarding');
                }
                
                document.getElementById('totalJobsCount').textContent = this.jobs.length;
                document.getElementById('totalCatsCount').textContent = Object.keys(RAW_DATA).length;
            },

            // --- GENERATEUR INTELLIGENT DE DONN√âES ---
            generateJobs: function() {
                let id = 1;
                for (const [cat, titles] of Object.entries(RAW_DATA)) {
                    const tags = TAG_MAP[cat] || ["autre"];
                    
                    titles.forEach(title => {
                        // G√©n√©rer la description
                        let desc = CUSTOM_DESC[title]; // Cherche une description sp√©cifique
                        
                        if (!desc) {
                            // G√©n√©rateur contextuel
                            const prefix = title.split(' ')[0].toLowerCase();
                            const context = cat.toLowerCase();
                            
                            if (prefix.startsWith("ing√©nieur")) {
                                desc = `L'Ing√©nieur en ${cat} con√ßoit et d√©veloppe des solutions techniques complexes. Il g√®re la R&D, l'innovation et veille √† la qualit√© des projets dans le secteur ${cat}.`;
                            } else if (prefix.startsWith("technicien")) {
                                desc = `Le ${title} intervient en support technique et op√©rationnel. Il r√©alise des tests, de la maintenance et assiste les ing√©nieurs dans le secteur ${cat}.`;
                            } else if (prefix.startsWith("assistant") || prefix.startsWith("adjoint")) {
                                desc = `L'${title} apporte une assistance administrative et op√©rationnelle aux cadres sup√©rieurs. Il g√®re la planification, les t√¢ches de suivi et la communication interne dans le domaine ${cat}.`;
                            } else if (prefix.startsWith("responsable")) {
                                desc = `Le ${title} anime et coordonne une √©quipe au sein du secteur ${cat}. Il d√©finit les objectifs, contr√¥le la qualit√© et assure le reporting avec la direction.`;
                            } else if (prefix.startsWith("chef")) {
                                desc = `Le ${title} dirige une √©quipe op√©rationnelle et assure la bonne ex√©cution des t√¢ches quotidiennes et des objectifs dans le secteur ${cat}.`;
                            } else if (prefix.startsWith("agent")) {
                                desc = `L'${title} effectue des t√¢ches d'ex√©cution et de surveillance op√©rationnelle. Il est un acteur cl√© sur le terrain dans le domaine ${cat}.`;
                            } else if (prefix.startsWith("commercial") || title.includes("commercial") || title.includes("vendeur")) {
                                desc = `Le ${title} est en charge de d√©velopper le chiffre d'affaires. Il prospecte les clients, n√©gocie les contrats et assure le suivi de la vente dans le secteur ${cat}.`;
                            } else if (title.includes("directeur")) {
                                desc = `Le ${title} d√©finit la strat√©gie globale de son d√©partement. Il prend les d√©cisions strat√©giques, g√®re le budget et pilote les √©quipes du secteur ${cat}.`;
                            } else {
                                desc = `Le ${title} exerce ses fonctions dans le secteur ${cat}. Il est charg√© de r√©aliser des missions sp√©cifiques li√©es √† cette activit√© professionnelle.`;
                            }
                        }

                        this.jobs.push({
                            id: id++,
                            title: title,
                            category: cat,
                            description: desc,
                            tags: tags
                        });
                    });
                }
            },

            // --- NAVIGATION & ROUTING ---
            navigate: function(pageId) {
                document.querySelectorAll('section').forEach(el => el.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                window.scrollTo(0,0);

                if(pageId === 'dashboard') this.renderDashboard();
                if(pageId === 'jobs') this.filterJobs('all');
            },

            // --- USER PROFILE ---
            toggleStream: function() {
                const lvl = document.getElementById('level').value;
                const grp = document.getElementById('streamGroup');
                if(lvl === '1BAC' || lvl === '2BAC') grp.style.display = 'block';
                else grp.style.display = 'none';
            },

            saveProfile: function(e) {
                e.preventDefault();
                this.user = {
                    name: document.getElementById('name').value,
                    level: document.getElementById('level').value,
                    stream: document.getElementById('stream').value || ''
                };
                localStorage.setItem('om_user', JSON.stringify(this.user));
                document.getElementById('navLinks').style.display = 'block';
                this.navigate('dashboard');
            },

            loadUser: function() {
                const stored = localStorage.getItem('om_user');
                if(stored) {
                    this.user = JSON.parse(stored);
                    document.getElementById('uName').textContent = this.user.name;
                }
            },

            logout: function() {
                localStorage.removeItem('om_user');
                this.user = null;
                document.getElementById('navLinks').style.display = 'none';
                document.getElementById('name').value = '';
                this.navigate('onboarding');
            },

            // --- RENDERING ---
            renderDashboard: function() {
                document.getElementById('uName').textContent = this.user.name;
                // 3 random jobs
                const random = this.jobs.sort(() => 0.5 - Math.random()).slice(0, 3);
                document.getElementById('featuredJobs').innerHTML = random.map(j => this.createJobCard(j)).join('');
            },

            renderFilters: function() {
                const select = document.getElementById('categoryFilter');
                const cats = Object.keys(RAW_DATA).sort();
                cats.forEach(c => {
                    const opt = document.createElement('option');
                    opt.value = c;
                    opt.textContent = c;
                    select.appendChild(opt);
                });
            },

            filterJobs: function(category) {
                const container = document.getElementById('jobsList');
                let filtered = this.jobs;
                if(category !== 'all') {
                    filtered = this.jobs.filter(j => j.category === category);
                }
                container.innerHTML = filtered.map(j => this.createJobCard(j)).join('');
                document.getElementById('currentCount').textContent = filtered.length;
            },

            createJobCard: function(job) {
                return `
                    <div class="job-card" onclick="app.showJob(${job.id})">
                        <div class="job-header">
                            <div class="job-title">${job.title}</div>
                            <span class="job-category">${job.category}</span>
                        </div>
                        <div class="job-body">
                            ${job.description.substring(0, 100)}...
                        </div>
                        <div class="job-footer">Cliquer pour voir le d√©tail</div>
                    </div>
                `;
            },

            showJob: function(id) {
                const job = this.jobs.find(j => j.id === id);
                if(!job) return;
                document.getElementById('modalBody').innerHTML = `
                    <h2 style="color:var(--primary);">${job.title}</h2>
                    <span style="background:var(--secondary); color:white; padding:2px 8px; border-radius:4px; font-size:0.8rem;">${job.category}</span>
                    <p style="margin-top:15px; font-size:1.05rem; line-height:1.6;">${job.description}</p>
                    <div style="margin-top:20px;">
                        <strong>Comp√©tences cl√©s :</strong>
                        <div style="display:flex; gap:5px; flex-wrap:wrap; margin-top:5px;">
                            ${job.tags.map(t => `<span style="border:1px solid #ddd; padding:2px 8px; border-radius:12px; font-size:0.8rem;">${t}</span>`).join('')}
                        </div>
                    </div>
                `;
                document.getElementById('jobModal').style.display = 'flex';
            },

            closeModal: function() {
                document.getElementById('jobModal').style.display = 'none';
            },

            // --- QUIZ SYSTEM ---
            startQuiz: function() {
                this.quizScores = { "bio":0, "logique":0, "science":0, "social":0, "lettre":0, "manuel":0, "vente":0, "tech":0, "admin":0 };
                this.currentQ = 0;
                this.questions = [
                    { t: "Quelle mati√®re pr√©f√®res-tu ?", o: { "Maths / Physique": ["logique","science"], "Sciences Naturelles": ["bio"], "Histoire / Fran√ßais": ["lettre"], "EPS / Arts": ["manuel"] } },
                    { t: "Quel environnement te pla√Æt ?", o: { "H√¥pital / √âcole": ["bio","social"], "Bureau / Labo": ["logique","admin"], "Usine / Chantier": ["manuel","tech"], "Magasin / Vente": ["vente"] } },
                    { t: "Quel est ton style ?", o: { "Rigoureux et pr√©cis": ["logique","admin"], "Cr√©atif et artistique": ["lettre","manuel"], "En contact avec les gens": ["social","vente"], "Pratique et manuel": ["manuel","tech"] } }
                ];
                this.navigate('quiz');
                this.renderQuestion();
            },

            renderQuestion: function() {
                const q = this.questions[this.currentQ];
                document.getElementById('qText').textContent = `${this.currentQ+1}/${this.questions.length}. ${q.t}`;
                const p = ((this.currentQ)/this.questions.length)*100;
                document.getElementById('quizProgress').style.width = p+'%';
                
                document.getElementById('qOptions').innerHTML = Object.keys(q.o).map(k => `
                    <button class="option-btn" onclick="app.answerQuiz('${k}')">${k}</button>
                `).join('');
            },

            answerQuiz: function(key) {
                const scores = this.questions[this.currentQ].o[key];
                scores.forEach(s => this.quizScores[s] = (this.quizScores[s]||0) + 1);
                
                this.currentQ++;
                if(this.currentQ < this.questions.length) this.renderQuestion();
                else this.showResults();
            },

            showResults: function() {
                this.navigate('results');
                const sorted = Object.entries(this.quizScores).sort((a,b) => b[1] - a[1]).slice(0,3);
                
                document.getElementById('resProfile').textContent = this.user.level + (this.user.stream ? " - "+this.user.stream : "");
                
                document.getElementById('resTags').innerHTML = sorted.map(x => `
                    <span style="background:var(--accent); color:#333; padding:5px 10px; border-radius:15px; font-weight:bold;">${x[0]} (${x[1]})</span>
                `).join('');

                // Chercher les jobs qui correspondent aux top tags
                const topTags = sorted.map(x => x[0]);
                const matches = this.jobs.filter(j => j.tags.some(t => topTags.includes(t))).slice(0, 6);
                
                document.getElementById('resJobs').innerHTML = matches.map(j => this.createJobCard(j)).join('');
            }
        };

        // Start App
        document.addEventListener('DOMContentLoaded', () => app.init());

    </script>
</body>
</html>